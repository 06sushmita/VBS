<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Banking System - Sign Up</title>

    <style>
        *{margin:0;padding:0;box-sizing:border-box}

        body{
            font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
            background:linear-gradient(135deg,#667eea,#764ba2);
            min-height:100vh;
            display:flex;
            justify-content:center;
            align-items:center
        }

        .container{
            width:90%;
            max-width:450px;
            background:#fff;
            border-radius:16px;
            box-shadow:0 20px 60px rgba(0,0,0,.3);
            overflow:hidden
        }

        .header{
            background:linear-gradient(135deg,#667eea,#764ba2);
            padding:30px;
            text-align:center;
            color:#fff
        }

        .header h1{font-size:28px}
        .header p{font-size:14px;opacity:.9}

        .content{padding:40px 30px}

        h2{text-align:center;color:#333;margin-bottom:8px}
        .subtitle{
            text-align:center;
            font-size:13px;
            color:#777;
            margin-bottom:25px
        }

        .form-group{margin-bottom:20px}
        .form-group label{
            display:block;
            margin-bottom:8px;
            color:#333;
            font-weight:600;
            font-size:14px
        }

        .form-group input,
        .form-group select{
            width:100%;
            padding:12px 15px;
            border:2px solid #e0e0e0;
            border-radius:8px;
            font-size:14px;
            transition:.3s
        }

        .form-group input:focus,
        .form-group select:focus{
            outline:none;
            border-color:#667eea;
            box-shadow:0 0 0 3px rgba(102,126,234,.15)
        }

        .btn{
            width:100%;
            padding:14px;
            border:none;
            border-radius:8px;
            font-size:16px;
            font-weight:700;
            background:linear-gradient(135deg,#667eea,#764ba2);
            color:#fff;
            cursor:pointer;
            transition:.3s
        }

        .btn:hover{
            transform:translateY(-2px);
            box-shadow:0 8px 20px rgba(102,126,234,.45)
        }

        .message{
            display:none;
            padding:12px;
            border-radius:8px;
            margin-bottom:20px;
            font-size:14px;
            text-align:center
        }

        .message.success{
            background:#d4edda;
            color:#155724;
            border:1px solid #c3e6cb
        }

        .message.error{
            background:#f8d7da;
            color:#721c24;
            border:1px solid #f5c6cb
        }

        .message.show{display:block}

        .link{
            text-align:center;
            margin-top:18px;
            color:#666;
            font-size:14px
        }

        .link a{
            color:#667eea;
            font-weight:600;
            cursor:pointer;
            text-decoration:none
        }

        .link a:hover{text-decoration:underline}

        .trust{
            margin-top:12px;
            text-align:center;
            font-size:12px;
            color:#777
        }
    </style>
</head>

<body>
<div class="container">
    <div class="header">
        <h1>VBS</h1>
        <p>Virtual Banking System</p>
    </div>

    <div class="content">
        <h2>Create Account</h2>
        <div class="subtitle">Secure onboarding ‚Ä¢ Step 1 of 2</div>

        <div id="signupMessage" class="message"></div>

        <!-- ‚ùó FORM FIELDS UNCHANGED -->
        <form id="signupForm">
            <div class="form-group">
                <label>Full Name</label>
                <input type="text" id="signupName" required>
            </div>

            <div class="form-group">
                <label>Username</label>
                <input type="text" id="signupUsername" required>
            </div>

            <div class="form-group">
                <label>Email</label>
                <input type="email" id="signupEmail" required>
            </div>

            <div class="form-group">
                <label>Password</label>
                <input type="password" id="signupPassword" required>
            </div>

            <div class="form-group">
                <label>Role</label>
                <select id="signupRole" required>
                    <option value="">Select Role</option>
                    <option value="customer">Customer</option>
                    <option value="admin">Admin</option>
                </select>
            </div>

            <button type="submit" class="btn">Create Account</button>
        </form>

        <div class="trust">üîí Encrypted & secure registration</div>

        <div class="link">
            Already have an account?
            <a onclick="window.location.href='login.html'">Login</a>
        </div>

        <div class="link">
            <a onclick="window.location.href='home.html'">‚Üê Back to Home</a>
        </div>
    </div>
</div>

<script>
    const showMessage = (id, text, type) => {
        const msg = document.getElementById(id);
        msg.innerText = text;
        msg.className = "message " + type + " show";
    };

    const signupForm = document.getElementById("signupForm");

    signupForm.addEventListener("submit", (event) => {
        event.preventDefault();

        const signupData = {
            name: document.getElementById("signupName").value,
            username: document.getElementById("signupUsername").value,
            email: document.getElementById("signupEmail").value,
            password: document.getElementById("signupPassword").value,
            role: document.getElementById("signupRole").value
        };

        fetch("http://localhost:8081/register", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(signupData)
        })
        .then(r => r.text())
        .then(result => {
            if(result === "Successfully Registered"){
                showMessage("signupMessage","Account created successfully! Redirecting to login‚Ä¶","success");
                window.location.href = "login.html";
            } else {
                showMessage("signupMessage", result, "error");
            }
        })
        .catch(() => {
            showMessage("signupMessage","Server connection error","error");
        });
    });
</script>
</body>
</html>
